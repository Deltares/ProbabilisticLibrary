#include <cstddef>
#include <vector>
#include "testdata.h"
#include "../../src/probFuncs/conversions.h"

namespace Deltares
{
    namespace ProbLibTests
    {

        Matrix testdata::getTable()
        {
            auto qu = std::vector<double>{
             5940, 0.083333333333333,
             7970, 0.033333333333333,
             9130, 0.016666666666667,
            10910, 0.005555555555556,
            12770, 0.001666666666667,
            14000, 0.000555555555556,
            14840, 0.000166666666667,
            14970, 0.000133333333333,
            15520, 5.55555555555556E-05,
            16270, 1.66666666666667E-05,
            16960, 5.55555555555556E-06,
            17710, 1.66666666666667E-06 };
            size_t dim = qu.size() / 2;
            auto r = Matrix(dim, 2);
            for (size_t i = 0; i < dim; i++)
            {
                qu[2 * i + 1] = conversions::betaFromQ(qu[2 * i + 1]);
                r(i, 0) = qu[2 * i + 1];
                r(i, 1) = qu[2 * i];
                // std::cout << qu[2*i] << " , " << qu[2*i+1] << std::endl;
            }

            return r;
        }

        Matrix testdata::getStatUnc()
        {
            auto su = std::vector<double>{
         5940,  340,
         7970,  440,
         9130,  500,
        10910,  600,
        12770,  700,
        14000,  560,
        14840,  620,
        14970,  640,
        15520,  750,
        16270,  930,
        16960, 1120,
        17710, 1350,
            };
            auto r = Matrix(12, 3);
            size_t ii = 0;
            for (size_t i = 0; i < 12; i++)
            {
                auto x = su[ii++];
                auto y = su[ii++];
                r(i, 0) = x;
                r(i, 2) = y;
            }
            return r;
        }

        Matrix testdata::getStatUncBeta()
        {
            auto su = std::vector<double>{
                 5577.57,  -5578.569, 14421.431, 209.669, 540.254,
                 5578.57,  -5578.569, 14421.431, 209.669, 540.254,
                 6615.12,  -6615.121, 13384.879, 217.477, 437.634,
                 7647.69,  -7647.688, 12352.312, 198.653, 317.880,
                 8707.18,  -8707.180, 11292.820, 170.436, 217.541,
                 9732.93,  -9732.933, 10267.067, 158.539, 163.641,
                11185.32, -11185.315,  8814.685, 118.133,  91.791,
                13223.49, -13223.494,  6776.506, 101.546,  53.837,
                14114.88, -14114.883,  5885.117, 105.346,  45.485,
                14642.09, -14642.090,  5357.910,  73.522,  27.733,
                15354.04, -15354.039,  4645.961,  43.874,  13.857,
                16243.82, -16243.818,  3756.182,  33.427,   8.744,
                16876.69, -16876.695,  3123.305,  30.004,   6.689,
                17230.18, -17230.178,  2769.822,  28.992,   5.706,
                25000.0,  -25000.0  , -5000.0  ,   1.000,   0.0001,
                25001.0,  -25001.0  , -5001.0  ,   1.000,   0.0001 };

            auto r = Matrix(16, 5);
            size_t ii = 0;
            for (size_t i = 0; i < 16; i++)
            {
                for (size_t j = 0; j < 5; j++)
                {
                    r(i, j) = su[ii];
                    ii++;
                }
            }
            return r;
        }
    }
}
